//=============================================================================
// ■ DemoView.cpp
//-----------------------------------------------------------------------------
//   Game view of a simple camera turnning, for demo
//=============================================================================

#include "control.hpp"

namespace VM76 {
	//-------------------------------------------------------------------------
	// ● 初始化
	//-------------------------------------------------------------------------
	void DemoView::init_control() {
		glfwSetInputMode(window, GLFW_STICKY_KEYS, 0);
	}
	//-------------------------------------------------------------------------
	// ● 更新
	//-------------------------------------------------------------------------
	void DemoView::update_control() {
		float stime = float(VMDE->frame_count);
		float x = 5.0f * cos(stime * 0.015f);
		float z = 5.0f * sin(stime * 0.015f);
		view = glm::lookAt(
			glm::vec3(x, 3.5f, z),
			glm::vec3(0.74f),
			glm::vec3(0.0f, 1.0f, 0.0f)
		);
	}
}
